<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>项目上的问题 | gp&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="学而时习之不亦说乎，有朋至远方来不亦乐乎。">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e32d6808.css" as="style"><link rel="preload" href="/blog/assets/js/app.a4fc6a88.js" as="script"><link rel="preload" href="/blog/assets/js/2.71bf78d2.js" as="script"><link rel="preload" href="/blog/assets/js/1.ca7f5726.js" as="script"><link rel="preload" href="/blog/assets/js/14.b9cd0f58.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5a4a0310.js"><link rel="prefetch" href="/blog/assets/js/11.e70751b0.js"><link rel="prefetch" href="/blog/assets/js/12.bad0c5c1.js"><link rel="prefetch" href="/blog/assets/js/13.659f6263.js"><link rel="prefetch" href="/blog/assets/js/15.03c74eed.js"><link rel="prefetch" href="/blog/assets/js/16.e1b887ae.js"><link rel="prefetch" href="/blog/assets/js/17.3c6d46a7.js"><link rel="prefetch" href="/blog/assets/js/18.456b0267.js"><link rel="prefetch" href="/blog/assets/js/19.f488d48b.js"><link rel="prefetch" href="/blog/assets/js/20.9068162c.js"><link rel="prefetch" href="/blog/assets/js/21.ffab7a62.js"><link rel="prefetch" href="/blog/assets/js/22.abca8fe0.js"><link rel="prefetch" href="/blog/assets/js/23.a59d2560.js"><link rel="prefetch" href="/blog/assets/js/24.bdc93910.js"><link rel="prefetch" href="/blog/assets/js/25.b9ea98ae.js"><link rel="prefetch" href="/blog/assets/js/26.afff07f5.js"><link rel="prefetch" href="/blog/assets/js/27.9c1ad869.js"><link rel="prefetch" href="/blog/assets/js/28.908c4a99.js"><link rel="prefetch" href="/blog/assets/js/29.390c239c.js"><link rel="prefetch" href="/blog/assets/js/3.35966ca3.js"><link rel="prefetch" href="/blog/assets/js/30.d2316dee.js"><link rel="prefetch" href="/blog/assets/js/31.42e065a4.js"><link rel="prefetch" href="/blog/assets/js/32.21826bcd.js"><link rel="prefetch" href="/blog/assets/js/33.006146e5.js"><link rel="prefetch" href="/blog/assets/js/34.0549d4f0.js"><link rel="prefetch" href="/blog/assets/js/35.eb1b22dd.js"><link rel="prefetch" href="/blog/assets/js/36.4039b050.js"><link rel="prefetch" href="/blog/assets/js/37.9ebe185f.js"><link rel="prefetch" href="/blog/assets/js/38.79f82d20.js"><link rel="prefetch" href="/blog/assets/js/39.69d1002d.js"><link rel="prefetch" href="/blog/assets/js/4.59a86c68.js"><link rel="prefetch" href="/blog/assets/js/40.6b9c0aab.js"><link rel="prefetch" href="/blog/assets/js/41.6f909508.js"><link rel="prefetch" href="/blog/assets/js/42.236c4ef7.js"><link rel="prefetch" href="/blog/assets/js/43.713d8ece.js"><link rel="prefetch" href="/blog/assets/js/44.e59a3bfe.js"><link rel="prefetch" href="/blog/assets/js/45.a7a1dcc7.js"><link rel="prefetch" href="/blog/assets/js/46.9a0f04bf.js"><link rel="prefetch" href="/blog/assets/js/47.587f18e9.js"><link rel="prefetch" href="/blog/assets/js/48.d1e757a5.js"><link rel="prefetch" href="/blog/assets/js/49.fefe5fca.js"><link rel="prefetch" href="/blog/assets/js/5.b3a759f7.js"><link rel="prefetch" href="/blog/assets/js/50.f28398e2.js"><link rel="prefetch" href="/blog/assets/js/51.f64f998d.js"><link rel="prefetch" href="/blog/assets/js/52.640e762c.js"><link rel="prefetch" href="/blog/assets/js/53.4585d18f.js"><link rel="prefetch" href="/blog/assets/js/54.3090b3db.js"><link rel="prefetch" href="/blog/assets/js/55.def2fc46.js"><link rel="prefetch" href="/blog/assets/js/56.a8049f2f.js"><link rel="prefetch" href="/blog/assets/js/57.12f91b1b.js"><link rel="prefetch" href="/blog/assets/js/58.951e50ff.js"><link rel="prefetch" href="/blog/assets/js/59.78fb2f44.js"><link rel="prefetch" href="/blog/assets/js/6.5780d460.js"><link rel="prefetch" href="/blog/assets/js/60.c86b1f39.js"><link rel="prefetch" href="/blog/assets/js/61.fa1c126b.js"><link rel="prefetch" href="/blog/assets/js/62.bab835b6.js"><link rel="prefetch" href="/blog/assets/js/63.be0cb25c.js"><link rel="prefetch" href="/blog/assets/js/64.89da0afb.js"><link rel="prefetch" href="/blog/assets/js/65.f7907f5c.js"><link rel="prefetch" href="/blog/assets/js/66.0ca50126.js"><link rel="prefetch" href="/blog/assets/js/67.3a45a12a.js"><link rel="prefetch" href="/blog/assets/js/68.7dcdc95a.js"><link rel="prefetch" href="/blog/assets/js/69.422dec24.js"><link rel="prefetch" href="/blog/assets/js/7.2be5b070.js"><link rel="prefetch" href="/blog/assets/js/70.46c4b56a.js"><link rel="prefetch" href="/blog/assets/js/71.f98730c6.js"><link rel="prefetch" href="/blog/assets/js/72.63f00c16.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.83b5a59f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e32d6808.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">gp's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/article/JavaScript/Rule.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blog/AboutMe.html" class="nav-link">
  Resume
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/article/JavaScript/Rule.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blog/AboutMe.html" class="nav-link">
  Resume
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/JavaScript/Optimization.html" class="sidebar-link">优化</a></li><li><a href="/blog/article/JavaScript/Rule.html" class="sidebar-link">代码规范</a></li><li><a href="/blog/article/JavaScript/QA-daily.html" class="sidebar-link">练习题目</a></li><li><a href="/blog/article/JavaScript/Object.html" class="sidebar-link">对象</a></li><li><a href="/blog/article/JavaScript/Array.html" class="sidebar-link">数组</a></li><li><a href="/blog/article/JavaScript/Function.html" class="sidebar-link">函数</a></li><li><a href="/blog/article/JavaScript/Ram.html" class="sidebar-link">内存</a></li><li><a href="/blog/article/JavaScript/Method.html" class="sidebar-link">常用方法</a></li><li><a href="/blog/article/JavaScript/PublicFunction.html" class="sidebar-link">公共方法</a></li><li><a href="/blog/article/JavaScript/Robustness.html" class="sidebar-link">代码健壮性</a></li><li><a href="/blog/article/JavaScript/Tree.html" class="sidebar-link">树</a></li><li><a href="/blog/article/JavaScript/This.html" class="sidebar-link">this指向</a></li><li><a href="/blog/article/JavaScript/EventLoop.html" class="sidebar-link">事件循环机制</a></li><li><a href="/blog/article/JavaScript/CrossDomain.html" class="sidebar-link">跨域</a></li><li><a href="/blog/article/JavaScript/Bubble.html" class="sidebar-link">冒泡</a></li><li><a href="/blog/article/JavaScript/CommonlyMethod.html" class="sidebar-link">数据特殊处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Css/Css.html" class="sidebar-link">css</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Vue/Components.html" class="sidebar-link">组件</a></li><li><a href="/blog/article/Vue/CrossDomain.html" class="sidebar-link">跨域</a></li><li><a href="/blog/article/Vue/Reconstruction.html" class="sidebar-link">项目重构优化</a></li><li><a href="/blog/article/Vue/Question.html" class="sidebar-link">vue问题</a></li><li><a href="/blog/article/Vue/FileHandle.html" class="sidebar-link">文件处理</a></li><li><a href="/blog/article/Vue/Router.html" class="sidebar-link">路由</a></li><li><a href="/blog/article/Vue/Table.html" class="sidebar-link">表格</a></li><li><a href="/blog/article/Vue/SpecialPage.html" class="sidebar-link">页面</a></li><li><a href="/blog/article/Vue/Seo.html" class="sidebar-link">SEO优化</a></li><li><a href="/blog/article/Vue/Package.html" class="sidebar-link">package配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>App</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/APP/UniApp.html" class="sidebar-link">uni-app</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Other</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Other/Git.html" class="sidebar-link">git操作</a></li><li><a href="/blog/article/Other/Canvas.html" class="sidebar-link">canvas</a></li><li><a href="/blog/article/Other/Qiankun.html" class="sidebar-link">qiankun</a></li><li><a href="/blog/article/Other/LODOP.html" class="sidebar-link">lodop插件</a></li><li><a href="/blog/article/Other/Npm.html" class="sidebar-link">npm私有库</a></li><li><a href="/blog/article/Other/Interview.html" class="sidebar-link">问题总结</a></li><li><a href="/blog/article/Other/ProjectLssues.html" aria-current="page" class="active sidebar-link">运行项目问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#node版本与node-sass版本兼容" class="sidebar-link">node版本与node-sass版本兼容</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#热更新太慢" class="sidebar-link">热更新太慢</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#内存溢出" class="sidebar-link">内存溢出</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#项目安装依赖时候常见问题以及解决思路" class="sidebar-link">项目安装依赖时候常见问题以及解决思路</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#环境问题" class="sidebar-link">环境问题</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#版本问题" class="sidebar-link">版本问题</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#其他问题" class="sidebar-link">其他问题</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#如下报错" class="sidebar-link">如下报错</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#系统首页加载缓慢" class="sidebar-link">系统首页加载缓慢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#资源与配置不匹配" class="sidebar-link">资源与配置不匹配</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#gzip压缩" class="sidebar-link">Gzip压缩</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#研发中node-modules依赖包越来越大" class="sidebar-link">研发中node_modules依赖包越来越大</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#方案一-修改配置-让cache不做累计" class="sidebar-link">方案一：修改配置-让cache不做累计</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#方案二-修改配置-启动项目时删除cache" class="sidebar-link">方案二：修改配置-启动项目时删除cache</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#方案三-切换管理工具" class="sidebar-link">方案三：切换管理工具</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#https访问http资源出错" class="sidebar-link">https访问http资源出错</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#_1-通过nginx代理" class="sidebar-link">1.通过nginx代理</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#_2-将访问出错的资源-放在本地。" class="sidebar-link">2.将访问出错的资源，放在本地。</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#接口访问带上路由" class="sidebar-link">接口访问带上路由</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#aes加密解密" class="sidebar-link">AES加密解密</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#sm加密" class="sidebar-link">sm加密</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#插件安装" class="sidebar-link">插件安装</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#插件引用" class="sidebar-link">插件引用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#前端发布代码后需要强刷浏览器" class="sidebar-link">前端发布代码后需要强刷浏览器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#原因" class="sidebar-link">原因</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#解决方案" class="sidebar-link">解决方案</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#接口数据压缩" class="sidebar-link">接口数据压缩</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#场景-2" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#pako插件" class="sidebar-link">pako插件</a></li><li class="sidebar-sub-header"><a href="/blog/article/Other/ProjectLssues.html#实现" class="sidebar-link">实现</a></li></ul></li></ul></li><li><a href="/blog/article/Other/OnlinePayment.html" class="sidebar-link">在线支付</a></li><li><a href="/blog/article/Other/PluginUnit.html" class="sidebar-link">js常用的各种插件</a></li><li><a href="/blog/article/Other/Vscode.html" class="sidebar-link">vscode常用插件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Three</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Three/Overview.html" class="sidebar-link">Three概览</a></li><li><a href="/blog/article/Three/Optimize.html" class="sidebar-link">Three性能优化</a></li><li><a href="/blog/article/Three/IntelligentPackingFunction.html" class="sidebar-link">Three常见问题及解决方案</a></li><li><a href="/blog/article/Three/Cannon.html" class="sidebar-link">Cannon物理引擎</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="项目上的问题"><a href="#项目上的问题" class="header-anchor">#</a> 项目上的问题</h1> <h2 id="node版本与node-sass版本兼容"><a href="#node版本与node-sass版本兼容" class="header-anchor">#</a> node版本与node-sass版本兼容</h2> <p>在接手老项目，运行项目时，或者安装node-sass时报如下错误，就是版本兼容问题</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Syntax Error: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (93)
For more information on which environments are supported please see:     
https://github.com/sass/node-sass/releases/tag/v4.14.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以下为node版本与sass版本对应关系图
<img src="/blog/assets/img/projectLssues-node.4a82ad78.jpg" style="height:100%;width:100%;"> <strong>解决方案:</strong> 安装对应版本的node或者node-sass</p> <h2 id="热更新太慢"><a href="#热更新太慢" class="header-anchor">#</a> 热更新太慢</h2> <p>vue项目在修改代码后热更新太慢解决方案可以从以下两点试试</p> <ol><li>改变路由懒加载方式</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">require</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/pages/back-stage/payment/Index.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
<span class="token comment">// 改为下面这种方式</span>
<span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">'@/pages/back-stage/payment/Index.vue'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>安装babel-plugin-dynamic-import-node插件</li></ol> <ul><li>先安装插件 <code>yarn add babel-plugin-dynamic-import-node</code></li> <li>在<code>babel.config.js</code>中添加插件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dynamic-import-node&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>或者在<code>.babelrc</code>文件中添加 <code>(官方推荐)</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dynamic-import-node&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>可选项<code>noInterop</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 如果为true 则不会互换 require 调用。 有用的是避免使用require（'module'）。默认在 commonjs 模块上。开发环境通过 babel 将异步 import() 转化为同步 require() 来增加热更新速度，生产环境继续使用 webpack 的import 机制。</span>
<span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;dynamic-import-node&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;noInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="内存溢出"><a href="#内存溢出" class="header-anchor">#</a> 内存溢出</h2> <p>在热更新的时候可能会碰到内存突然溢出的问题，原因是因为在编译大型项目 webpack 占用内存如果超出了V8引擎对Node默认的内存限制大小时，(64位系统：1.4 GB，32位系统：0.7 GB)，就会产生内存溢出的错误。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">-</span> Last few GCs <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>
 
<span class="token punctuation">[</span><span class="token number">13872</span><span class="token operator">:</span>000001BAF69758E0<span class="token punctuation">]</span>   <span class="token number">606058</span> <span class="token literal-property property">ms</span><span class="token operator">:</span> Mark<span class="token operator">-</span>sweep <span class="token number">1227.9</span> <span class="token punctuation">(</span><span class="token number">1294.4</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">1225.3</span> <span class="token punctuation">(</span><span class="token number">1292.1</span><span class="token punctuation">)</span> <span class="token constant">MB</span><span class="token punctuation">,</span> <span class="token number">387.1</span> <span class="token operator">/</span> <span class="token number">0.1</span> <span class="token function">ms</span>  <span class="token punctuation">(</span>average mu <span class="token operator">=</span> <span class="token number">0.936</span><span class="token punctuation">,</span> current mu <span class="token operator">=</span> <span class="token number">0.000</span><span class="token punctuation">)</span> last resort <span class="token constant">GC</span> <span class="token keyword">in</span> old space requested
<span class="token punctuation">[</span><span class="token number">13872</span><span class="token operator">:</span>000001BAF69758E0<span class="token punctuation">]</span>   <span class="token number">606389</span> <span class="token literal-property property">ms</span><span class="token operator">:</span> Mark<span class="token operator">-</span>sweep <span class="token number">1225.3</span> <span class="token punctuation">(</span><span class="token number">1292.1</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">1225.3</span> <span class="token punctuation">(</span><span class="token number">1291.6</span><span class="token punctuation">)</span> <span class="token constant">MB</span><span class="token punctuation">,</span> <span class="token number">330.6</span> <span class="token operator">/</span> <span class="token number">0.0</span> <span class="token function">ms</span>  <span class="token punctuation">(</span>average mu <span class="token operator">=</span> <span class="token number">0.881</span><span class="token punctuation">,</span> current mu <span class="token operator">=</span> <span class="token number">0.000</span><span class="token punctuation">)</span> last resort <span class="token constant">GC</span> <span class="token keyword">in</span> old space requested
 
 
<span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">JS</span> stacktrace <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>
 
<span class="token operator">===</span><span class="token operator">=</span> <span class="token constant">JS</span> stack trace <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
 
    <span class="token number">0</span><span class="token operator">:</span> ExitFrame <span class="token punctuation">[</span>pc<span class="token operator">:</span> 0000011C9175C5C1<span class="token punctuation">]</span>
Security context<span class="token operator">:</span> <span class="token number">0x01546879e6e9</span> <span class="token operator">&lt;</span>JSObject<span class="token operator">&gt;</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token function">byteLength</span><span class="token punctuation">(</span>aka byteLength<span class="token punctuation">)</span> <span class="token punctuation">[</span>00000079857F9241<span class="token punctuation">]</span> <span class="token punctuation">[</span>buffer<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">531</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>bytecode<span class="token operator">=</span>00000160110414F1 offset<span class="token operator">=</span><span class="token number">204</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">=</span><span class="token number">0x02bf2c6826f1</span> <span class="token operator">&lt;</span><span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>string<span class="token operator">=</span><span class="token number">0x032765d66511</span> <span class="token operator">&lt;</span>Very long string<span class="token punctuation">[</span><span class="token number">84025566</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token number">0x0154687be2e1</span> <span class="token operator">&lt;</span>String<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">:</span> utf8<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token number">2</span><span class="token operator">:</span> arguments adaptor frame<span class="token operator">:</span> <span class="token number">3</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token number">2</span>
    <span class="token number">3</span><span class="token operator">:</span> <span class="token function">fromString</span><span class="token punctuation">(</span>aka fromString<span class="token punctuation">)</span> <span class="token punctuation">[</span>0000018FF1D13251<span class="token punctuation">]</span> <span class="token punctuation">[</span>buffer<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">342</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>bytecode<span class="token operator">=</span><span class="token number">00000160.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
 
<span class="token constant">FATAL</span> <span class="token constant">ERROR</span><span class="token operator">:</span> <span class="token constant">CALL_AND_RETRY_LAST</span> Allocation failed <span class="token operator">-</span> JavaScript heap out <span class="token keyword">of</span> memory
 <span class="token number">1</span><span class="token operator">:</span> 00007FF7B0E1C6AA v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>GCIdleTimeHandler<span class="token operator">:</span><span class="token operator">:</span>GCIdleTimeHandler<span class="token operator">+</span><span class="token number">4506</span>
 <span class="token number">2</span><span class="token operator">:</span> 00007FF7B0DF7416 node<span class="token operator">:</span><span class="token operator">:</span>MakeCallback<span class="token operator">+</span><span class="token number">4534</span>
 <span class="token number">3</span><span class="token operator">:</span> 00007FF7B0DF7D90 node_module_register<span class="token operator">+</span><span class="token number">2032</span>
 <span class="token number">4</span><span class="token operator">:</span> 00007FF7B111189E v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>FatalProcessOutOfMemory<span class="token operator">+</span><span class="token number">846</span>
 <span class="token number">5</span><span class="token operator">:</span> 00007FF7B11117CF v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>FatalProcessOutOfMemory<span class="token operator">+</span><span class="token number">639</span>
 <span class="token number">6</span><span class="token operator">:</span> 00007FF7B12F7F94 v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>Heap<span class="token operator">:</span><span class="token operator">:</span>MaxHeapGrowingFactor<span class="token operator">+</span><span class="token number">9620</span>
 <span class="token number">7</span><span class="token operator">:</span> 00007FF7B12F645B v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>Heap<span class="token operator">:</span><span class="token operator">:</span>MaxHeapGrowingFactor<span class="token operator">+</span><span class="token number">2651</span>
 <span class="token number">8</span><span class="token operator">:</span> 00007FF7B14202BB v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>Factory<span class="token operator">:</span><span class="token operator">:</span>AllocateRawWithImmortalMap<span class="token operator">+</span><span class="token number">59</span>
 <span class="token number">9</span><span class="token operator">:</span> 00007FF7B1422D6D v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>Factory<span class="token operator">:</span><span class="token operator">:</span>NewRawTwoByteString<span class="token operator">+</span><span class="token number">77</span>
<span class="token number">10</span><span class="token operator">:</span> 00007FF7B116DDA8 v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>Smi<span class="token operator">:</span><span class="token operator">:</span>SmiPrint<span class="token operator">+</span><span class="token number">536</span>
<span class="token number">11</span><span class="token operator">:</span> 00007FF7B1104EAB v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>StringHasher<span class="token operator">:</span><span class="token operator">:</span>UpdateIndex<span class="token operator">+</span><span class="token number">219</span>
<span class="token number">12</span><span class="token operator">:</span> 00007FF7B112A2C6 v8<span class="token operator">:</span><span class="token operator">:</span>String<span class="token operator">:</span><span class="token operator">:</span>Utf8Length<span class="token operator">+</span><span class="token number">22</span>
<span class="token number">13</span><span class="token operator">:</span> 00007FF7B0DE07AC node<span class="token operator">:</span><span class="token operator">:</span>Buffer<span class="token operator">:</span><span class="token operator">:</span>New<span class="token operator">+</span><span class="token number">4332</span>
<span class="token number">14</span><span class="token operator">:</span> 00007FF7B1324382 std<span class="token operator">:</span><span class="token operator">:</span>vector<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token punctuation">,</span><span class="token literal-property property">v8</span><span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>ZoneAllocator<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">:</span><span class="token operator">:</span>_Umove<span class="token operator">+</span><span class="token number">79442</span>
<span class="token number">15</span><span class="token operator">:</span> 00007FF7B132580D std<span class="token operator">:</span><span class="token operator">:</span>vector<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token punctuation">,</span><span class="token literal-property property">v8</span><span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>ZoneAllocator<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">:</span><span class="token operator">:</span>_Umove<span class="token operator">+</span><span class="token number">84701</span>
<span class="token number">16</span><span class="token operator">:</span> 00007FF7B1324866 std<span class="token operator">:</span><span class="token operator">:</span>vector<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token punctuation">,</span><span class="token literal-property property">v8</span><span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>ZoneAllocator<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">:</span><span class="token operator">:</span>_Umove<span class="token operator">+</span><span class="token number">80694</span>
<span class="token number">17</span><span class="token operator">:</span> 00007FF7B132474B std<span class="token operator">:</span><span class="token operator">:</span>vector<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token punctuation">,</span><span class="token literal-property property">v8</span><span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>ZoneAllocator<span class="token operator">&lt;</span>v8<span class="token operator">:</span><span class="token operator">:</span>internal<span class="token operator">:</span><span class="token operator">:</span>compiler<span class="token operator">:</span><span class="token operator">:</span>MoveOperands <span class="token operator">*</span> __ptr64<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token operator">:</span><span class="token operator">:</span>_Umove<span class="token operator">+</span><span class="token number">80411</span>
<span class="token number">18</span><span class="token operator">:</span> 0000011C9175C5C1

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>在代码热更新出现上述问题时，可以使用一个解除限制内存的插件 <code>increase-memory-limit</code></p> <ul><li>安装插件：<code>yarn add increase-memory-limit</code></li> <li>配置运行语句，在<code>package.json</code>添加一个<code>script</code>指令：<code>npm run adjust-mermory-limit</code></li></ul> <h2 id="项目安装依赖时候常见问题以及解决思路"><a href="#项目安装依赖时候常见问题以及解决思路" class="header-anchor">#</a> 项目安装依赖时候常见问题以及解决思路</h2> <h3 id="环境问题"><a href="#环境问题" class="header-anchor">#</a> 环境问题</h3> <p><strong>由于国内外环境因素，导致npm包下载不完整或者出错中断</strong></p> <p>可以通过修改npm包的镜像源的方式，加速依赖包下载的速度，来避免这种问题</p> <p><strong>npm设置源</strong></p> <ul><li>查看源 npm get registry</li> <li>设置淘宝源 npm config set registry http://registry.npm.taobao.org/</li> <li>切换默认源 npm config set registry https://registry.npmjs.org/</li></ul> <p><strong>yarn设置源</strong></p> <ul><li>查看源 yarn config get registry</li> <li>设置淘宝源 yarn config set registry http://registry.npm.taobao.org/</li> <li>切换默认源 yarn config set registry https://registry.yarnpkg.com</li></ul> <h3 id="版本问题"><a href="#版本问题" class="header-anchor">#</a> 版本问题</h3> <p><strong>由于node版本和node.sass版本不匹配导致出错中断</strong></p> <p>对照上文中<code>node版本与node-sass版本兼容</code>解决</p> <h3 id="其他问题"><a href="#其他问题" class="header-anchor">#</a> 其他问题</h3> <p><strong>项目其他人安装依赖都正常，到你安装依赖时出错</strong></p> <p>其他人安装依赖都没啥问题，就你安装出错，检查node版本也没啥问题，这个时候你就开始有点莫名其妙了，到这里了先不要慌，三种方案帮你解决。</p> <p><strong>方案一.删除node modules文件</strong></p> <p>删除node modules的两种方式</p> <blockquote><p>直接手动删除项目下的node_modules文件夹（缺点：依赖包多时删除很慢）</p></blockquote> <blockquote><p>安装rimraf插件删除</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code># 全局安装命令
npm install -g rimraf

# 执行删除依赖包的命令(删除时需要在node_modules目录下运行命令)
rimraf node_modules
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>方案二.清除npm缓存caches文件</strong></p> <p>清除缓存的两种方式</p> <blockquote><p>直接手动删除缓存文件，删除C:\Users\用户名.npmrc 这个文件。</p></blockquote> <blockquote><p>命令删除</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm命令: npm cache clean --force 
yarn命令: yarn cache clean --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>方案三.修改配置</strong></p> <p>将<code>yarn</code>配置中的<code>strict-ssl设置为flase</code>  , 在<code>info yarn config</code>信息中，<code>strict- ssl</code>为<code>true</code>,表示需要验证<code>HTTPS</code>证书。我们可以将<code>strict-ssl设置为false</code>,跳过<code>HTTPS</code>证书验证。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn config set &quot;strict-ssl&quot; false -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="如下报错"><a href="#如下报错" class="header-anchor">#</a> 如下报错</h3> <p><strong>error commander@11.1.0: The engine &quot;node&quot; is incompatible with this module</strong></p> <p>完整的报错情况如下：
<img src="/blog/assets/img/install-error.21139754.jpg" style="height:100%;width:100%;"></p> <ol><li><p>到这里我们可以根据提示选择安装并切换<code>&gt;=16版本的node</code>来解决这个问题。</p></li> <li><p>由于我这个项目的<code>&quot;node-sass&quot;: &quot;4.14.1&quot;</code>必须匹配14版本的node,（先再16+版本忽略node-sass,安装成功后，再切换智14+版本安装node-sass的方式已经尝试过，报相同的错），到这里，我们可以通过以下命令来忽略错误</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn config set ignore-engines true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>错误忽略成功后，再<code>yarn install</code>安装依赖就可以了</p> <h2 id="系统首页加载缓慢"><a href="#系统首页加载缓慢" class="header-anchor">#</a> 系统首页加载缓慢</h2> <h3 id="资源与配置不匹配"><a href="#资源与配置不匹配" class="header-anchor">#</a> 资源与配置不匹配</h3> <p>场景：有一天销售小姐姐突然跑过来跟我反馈，我们系统的首页加载好慢好慢，要十秒左右才能加载完成。</p> <p>问题排查：第一步查看首页资源请求，是那个资源响应时间需要这么长时间（之前都是好好的，不可能无缘无故突然就变慢了），然后不看不知道一看吓一跳，居然是前几天更新的内容<code>three.js</code>包卡卡住了，</p> <ol><li>如果是测试环境是内网，加载稍微快一点是正常的，可以尽量压缩系统引入的图片和首页不需要的资源。</li> <li>F12调开控制台，查看页面请求总资源是否和nginx内配置的client <code>max body size 50m;</code>页面请求最大总资源匹配，如果不匹配需要修改。</li></ol> <img src="/blog/assets/img/页面加载资源.c09df055.png" style="width:100%;"> <h3 id="gzip压缩"><a href="#gzip压缩" class="header-anchor">#</a> Gzip压缩</h3> <p>web上使用gzip编码格式传输有几个要点：</p> <ul><li><ol><li>浏览器和服务器都需要支持gzip编码（所有浏览器都支持）</li></ol></li> <li><ol start="2"><li>采用 LZ77 算法与 Huffman 编码来压缩文件，是一种无损压缩算法</li></ol></li> <li><ol start="3"><li>压缩比率在3-10倍左右（纯文本），可以大大节省服务器的网络带宽</li></ol></li></ul> <h4 id="使用注意事项"><a href="#使用注意事项" class="header-anchor">#</a> 使用注意事项</h4> <ul><li><ol><li>html、js、css使用gzip压缩</li></ol></li> <li><ol start="2"><li>图片资源不需要Gzip压缩
原因：gzip使用的<code>Deflate</code>算法，因为它使用了<code>LZ77</code>算法与<code>Huffman</code>编码来压缩文件，重复度越高的文件可压缩的空间就越大，但是图片的重复度是很低的，甚至压缩后页面的体积会变大，得不偿失</li></ol></li></ul> <h4 id="gzip的压缩原理"><a href="#gzip的压缩原理" class="header-anchor">#</a> Gzip的压缩原理</h4> <img src="data:image/png;base64,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" style="width:100%;"> <ul><li><ol><li>浏览器请求url，并在请求头中设置属性accept-encoding: gzip。这表明该浏览器是支持gzip，该参数浏览器在请求资源时会自动带上。</li></ol></li> <li><ol start="2"><li>服务器在接收到浏览器发送的请求之后，服务器会返回压缩后的文件，并在响应头重包含content-encoding: gzip。若是没有gzip文件，会返回为压缩的文件。</li></ol></li> <li><ol start="3"><li>浏览器接收到服务器的响应之后，根据content-encoding: gzip响应头使用gzip策略解压压缩后的资源，通过content-type内容类型决定怎么编码读取该文件内容。</li></ol></li></ul> <h4 id="开启gzip压缩的方案"><a href="#开启gzip压缩的方案" class="header-anchor">#</a> 开启Gzip压缩的方案</h4> <h5 id="第一步-前端预生成gz文件"><a href="#第一步-前端预生成gz文件" class="header-anchor">#</a> 第一步：前端预生成gz文件</h5> <p>前端工程项目可以在打包的时候，前端使用webpack或vite打包工作，生成gz文件。这样的目的是减少在服务器在线生成gzip的步骤。</p> <p>使用webpackg构建代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'compression-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...其他配置</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 压缩文件</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$|\.html$|\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token comment">// 超过4kb压缩</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">4096</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>使用vite构建代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> compressPlugin <span class="token keyword">from</span> <span class="token string">'vite-plugin-compression'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">compressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">ext</span><span class="token operator">:</span> <span class="token string">'.gz'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">deleteOriginFile</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="第二步-服务器在线gzip压缩-nginx"><a href="#第二步-服务器在线gzip压缩-nginx" class="header-anchor">#</a> 第二步：服务器在线Gzip压缩（nginx）</h4> <p>nginx配置来阐述流程，以下是nginx的配置属性</p> <p>nginx配置代码如下：</p> <ol><li>静态加载本地的gz文件</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 静态加载本地的gz文件，需要在nginx上安装http_gzip_static_module模块</span>
gzip_static on<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>两种方式结合的配置</li></ol> <p>有gz文件的时候使用静态资源，不存在gz文件的时候进行在线压缩而不是加载源文件，需要在nginx上把两种配置都写上。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  # 开启gzip
  gzip on;

  # 启用gzip压缩的最小文件；小于设置值的文件将不会被压缩
  gzip_min_length 1k;

  # gzip 压缩级别 1-10
  gzip_comp_level 2;

  # 进行压缩的文件类型。

  gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php;

  # 是否在http header中添加Vary: Accept-Encoding，建议开启
  gzip_vary on;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>gzip_static的优先级高，会先加载静态gz文件，当同目录下不存在此文件的时候，会执行在线压缩命令。</p> <h4 id="查看gzip开启状态"><a href="#查看gzip开启状态" class="header-anchor">#</a> 查看gzip开启状态</h4> <p>开启前：
<img src="/blog/assets/img/projectLssues_gzip_two.63c0e503.jpg" style="width:100%;"> <img src="/blog/assets/img/projectLssues_gzip_three.ca0f051c.jpg" style="width:100%;">
开启后：</p> <p>Etag中只有简单字符表示静态资源加载，而前面带 W/ 表示启动了在线压缩。
<img src="/blog/assets/img/projectLssues_gzip_four.d9ba3d8d.jpg" style="width:100%;"> <img src="/blog/assets/img/projectLssues_gzip_five.0f6f6cdc.jpg" style="width:100%;"></p> <h2 id="研发中node-modules依赖包越来越大"><a href="#研发中node-modules依赖包越来越大" class="header-anchor">#</a> 研发中node_modules依赖包越来越大</h2> <p>之前没有感觉，直到一次，我的磁盘突然变红了，我很奇怪，这个工作盘都没多少东西啊，怎么突然就慢了，结果一分析，项目中的依赖包居然达到了<code>20+G</code>让我很吃惊，这是怎么回事呢？不懂咱就百度传送门：[https://zhuanlan.zhihu.com/p/646026688]，发现前端项目在每次启动的时候，都会去执行在<code>node_modules</code>中累计<code>.cache</code></p> <p>找到问题了，咱就看怎么解决吧，</p> <h3 id="方案一-修改配置-让cache不做累计"><a href="#方案一-修改配置-让cache不做累计" class="header-anchor">#</a> 方案一：修改配置-让cache不做累计</h3> <p>在项目中修改加载器的配置<code>compression-webpack-plugin</code>,设置<code>cache</code>的属性值为<code>false</code>(<code>cache</code>的属性值默认为<code>true</code>)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'compression-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 压缩文件</span>
          <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="方案二-修改配置-启动项目时删除cache"><a href="#方案二-修改配置-启动项目时删除cache" class="header-anchor">#</a> 方案二：修改配置-启动项目时删除cache</h3> <p>在项目每次允许时先删<code>.cache</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在vue.config.js文件</span>
<span class="token keyword">const</span> rm <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rimraf'</span><span class="token punctuation">)</span>  <span class="token comment">// 全局安装rimraf  yarn add rimraf -g -D</span>

<span class="token function">rm</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>_dirname<span class="token punctuation">,</span> <span class="token string">'node_modules/cache'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="方案三-切换管理工具"><a href="#方案三-切换管理工具" class="header-anchor">#</a> 方案三：切换管理工具</h3> <p>大致了解了一下，现目前推荐的有两种<code>yarn3和pnmp</code>,首推<code>yarn3</code></p> <h2 id="https访问http资源出错"><a href="#https访问http资源出错" class="header-anchor">#</a> https访问http资源出错</h2> <p>话不多说，咱们直接上解决方法</p> <h3 id="_1-通过nginx代理"><a href="#_1-通过nginx代理" class="header-anchor">#</a> 1.通过nginx代理</h3> <p>在通过配置nginx，将代理转发的地址改为http</p> <h3 id="_2-将访问出错的资源-放在本地。"><a href="#_2-将访问出错的资源-放在本地。" class="header-anchor">#</a> 2.将访问出错的资源，放在本地。</h3> <h2 id="接口访问带上路由"><a href="#接口访问带上路由" class="header-anchor">#</a> 接口访问带上路由</h2> <p>正常运行的项目，在实现文件上传时，发现调用接口中有路由地址，如图</p> <p><strong>正常情况</strong></p> <ul><li>代码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 上传接口地址</span>
<span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api//file-view/file/upload</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>图片</li></ul> <img src="/blog/assets/img/访问正常.42468c40.jpg" style="height:100%;width:100%;"> <p><strong>异常情况</strong></p> <ul><li>代码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 上传接口地址</span>
<span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">api//file-view/file/upload</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><img src="/blog/assets/img/访问出错.6dbddcfb.jpg" style="height:100%;width:100%;"> <p>在做图片上传或者下载，做内联接口时一定要注意<code>&lt;Upload :action=&quot;action&quot; :max-size=&quot;2048&quot; :format=&quot;['jpg','jpeg','png','pdf']&quot; /&gt;</code></p> <h2 id="aes加密解密"><a href="#aes加密解密" class="header-anchor">#</a> AES加密解密</h2> <p>AES加密:是一种使用密钥加密的算法，叫做对称加密方式</p> <p>先引入<code>CryptoJS</code>插件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add crypto-js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用方法如下，密钥一定得事先和后端核对清楚，密钥对不上解不开密码。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">let</span> userName <span class="token operator">=</span> <span class="token string">'小明'</span>
  <span class="token keyword">let</span> passWord <span class="token operator">=</span> <span class="token string">'123456'</span>
  <span class="token comment">// 账号加密</span>
  <span class="token keyword">let</span> userNameEncrypt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">aesEncryp</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span>
  <span class="token keyword">let</span> passWordEncrypt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">aesEncrypt</span><span class="token punctuation">(</span>passWord<span class="token punctuation">)</span>
  <span class="token comment">// 账号解密</span>
  <span class="token keyword">let</span> userNameDecrypt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">aesDecrypt</span><span class="token punctuation">(</span>userNameEncrypt<span class="token punctuation">)</span>
  <span class="token keyword">let</span> passWordDecrypt <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">aesDecrypt</span><span class="token punctuation">(</span>passWordEncrypt<span class="token punctuation">)</span>

  <span class="token comment">// AES加密</span>
  <span class="token function">aesEncrypt</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 密钥</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1093fd28138912a4176cd513ed1be114&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 密钥：一个常量，前后端协定后一个字符串即可</span>
      <span class="token keyword">let</span> iv <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;0543456789NVCDMN&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 偏移量：一个常量，前后端协定后一个字符串，前后端一致即可</span>
      <span class="token comment">// 加密</span>
      <span class="token keyword">let</span> srcs <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// 需要加密的明文</span>
      <span class="token keyword">let</span> encrypted <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>srcs<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">iv</span><span class="token operator">:</span> iv<span class="token punctuation">,</span>
          <span class="token literal-property property">mode</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span><span class="token constant">CBC</span><span class="token punctuation">,</span> <span class="token comment">// mode 与后台一致。有多个模式可选 CBC/ECB</span>
          <span class="token literal-property property">padding</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7<span class="token punctuation">,</span> <span class="token comment">//</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 需要返回base64格式的加密结果，使用此句</span>
      <span class="token comment">// return CryptoJS.enc.Base64.stringify(encrypted.ciphertext)</span>

      <span class="token comment">// 需要返回hex格式的加密结果，使用此句</span>
      <span class="token keyword">return</span> encrypted<span class="token punctuation">.</span>ciphertext<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// AES解密</span>
  <span class="token function">aesDecrypt</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 密钥</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1093fd28138912a4176cd513ed1be114&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 密钥：一个常量，前后端协定后一个字符串即可</span>
      <span class="token keyword">let</span> iv <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;0543456789NVCDMN&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 偏移量：一个常量，前后端协定后一个字符串，前后端一致即可</span>
      <span class="token comment">// 解密</span>
      <span class="token comment">// 需要返回base64格式的加密结果，使用此句</span>
      <span class="token comment">// let encryptedHexStr = CryptoJS.enc.Base64.parse(str)</span>

      <span class="token comment">// 需要返回hex格式的加密结果，使用此句</span>
      <span class="token keyword">let</span> encryptedHexStr <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Hex<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
      <span class="token keyword">let</span> srcs <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>encryptedHexStr<span class="token punctuation">)</span>
      <span class="token keyword">let</span> encrypted <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>srcs<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">iv</span><span class="token operator">:</span> iv<span class="token punctuation">,</span>
          <span class="token literal-property property">mode</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span><span class="token constant">CBC</span><span class="token punctuation">,</span> <span class="token comment">// mode 与后台一致。有多个模式可选 CBC/ECB</span>
          <span class="token literal-property property">padding</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7<span class="token punctuation">,</span> <span class="token comment">//</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> encrypted<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h2 id="sm加密"><a href="#sm加密" class="header-anchor">#</a> sm加密</h2> <p>sm加密又叫国密加密，前端可以通过插件<code>sm-crypto</code>去实现，分为sm2、sm3、sm4，今天我们主要说一下sm3</p> <p>sm3不可解密加密</p> <h3 id="插件安装"><a href="#插件安装" class="header-anchor">#</a> 插件安装</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>// yarn安装
yarn add sm-crypto
// npm安装
npm install --save sm-crypto
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="插件引用"><a href="#插件引用" class="header-anchor">#</a> 插件引用</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 插件引用</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SM3</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'sm-crypto'</span><span class="token punctuation">;</span> <span class="token comment">// 这样使用可能在代码中使用SM3报undefined</span>

<span class="token comment">// 转换时直接使用，这样可以避免上面的问题</span>
<span class="token keyword">const</span> <span class="token constant">SM3</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sm-crypto'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sm3
<span class="token keyword">let</span> passWord <span class="token operator">=</span> <span class="token constant">SM3</span><span class="token punctuation">(</span><span class="token string">'zheshimima123'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="前端发布代码后需要强刷浏览器"><a href="#前端发布代码后需要强刷浏览器" class="header-anchor">#</a> 前端发布代码后需要强刷浏览器</h2> <h3 id="场景"><a href="#场景" class="header-anchor">#</a> 场景</h3> <p>前端在发布代码后，不强刷页面或者清理缓存刷新页面，无法获取最新的代码页面。</p> <h3 id="原因"><a href="#原因" class="header-anchor">#</a> 原因</h3> <p>这个和浏览器的缓存机制有关系了，浏览器缓存是为了节约网络的资源加速浏览，浏览器在用户磁盘上对最近请求过的文档进行存储，当访问者再次请求这个页面时，浏览器就可以从本地磁盘显示文档，这样就可以加速页面的阅览。</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <h4 id="方案一-添加动态版本号"><a href="#方案一-添加动态版本号" class="header-anchor">#</a> 方案一：添加动态版本号</h4> <p>使用 Vue 脚手架的情况下：vue.config.js，在打包时给css文件和js文件后加上时间戳。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> timeStamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">filenameHashing</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 打包的时候不使用 hash 值，因为后面自行添加时间戳或者版本号了</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 打包编译后的js文件名称,添加时间戳.</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js/js[name].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>timeStamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js/chunk.[id].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>timeStamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extract</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 打包后css文件名称添加时间戳</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">css/[name].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>timeStamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">css/chunk.[id].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>timeStamp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="方案二-在-index-html-页面加-meta-标签"><a href="#方案二-在-index-html-页面加-meta-标签" class="header-anchor">#</a> 方案二：在 index.html 页面加 meta 标签</h4> <p>program、cache-control 和 expires 都是前端缓存的关键字段，优先级是 pragma &gt; cache-control &gt; expires，pragma 是旧产物，已经逐步抛弃，有些网站为了向下兼容还保留了这个字段。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pragram<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cache-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache, no-store, must-revalidate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="方案三-后端-nginx-配置-让-index-html-不缓存"><a href="#方案三-后端-nginx-配置-让-index-html-不缓存" class="header-anchor">#</a> 方案三：后端 nginx 配置，让 index.html 不缓存</h4> <p>vue 默认配置，打包后 css 和 js 的名字后面都加了哈希值，不会有缓存问题，但是 index.html 在服务器端可能是有缓存的，需要在服务器配置不让缓存 index.html。</p> <p>no-cache, no-store可以只设置一个，也可以两个都设置</p> <ul><li>no-cache浏览器会缓存，但刷新页面或者重新打开时 会请求服务器，服务器可以响应304，如果文件有改动就会响应200</li> <li>no-store浏览器不缓存，刷新页面需要重新下载页面</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>location = /index.html {
  add_header Cache-Control &quot;no-cache, no-store&quot;;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="接口数据压缩"><a href="#接口数据压缩" class="header-anchor">#</a> 接口数据压缩</h2> <h3 id="场景-2"><a href="#场景-2" class="header-anchor">#</a> 场景</h3> <p>做悠闲装箱项目的时候，需要生成集装箱和货物的3D模型，有的时候货物会有上万条数据，这种情况下接口的响应时间会很长，通过数据压缩可以解决一部分问题。</p> <h3 id="pako插件"><a href="#pako插件" class="header-anchor">#</a> pako插件</h3> <p>Pako 是一个高性能的 JavaScript 库，用于在浏览器和 Node.js 环境中进行数据压缩和解压缩。它是 zlib 库的 JavaScript 移植版本，能够提供几乎与 C 语言实现相同的压缩速度。Pako 的主要特点包括：</p> <ul><li>高性能：在现代 JavaScript 引擎中，Pako 的压缩和解压缩速度接近 C 语言实现的 zlib。</li> <li>跨平台：支持在浏览器和 Node.js 环境中运行。</li> <li>兼容性：生成的压缩数据与 zlib 兼容，可以直接在其他支持 zlib 的环境中使用。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// npm安装</span>
npm install pako

<span class="token comment">// yarn安装</span>
yarn add npm pako
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <p>接收到后端返回的压缩文件(正常的接口接收)，调用公共方法解压缩就可以直接使用了。公共方法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * strData: 后端返回的数据
 * 解压后端返回的gzip压缩数据
 * */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">unzip</span><span class="token punctuation">(</span><span class="token parameter">strData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> charData <span class="token operator">=</span> strData<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> binData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>charData<span class="token punctuation">)</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> pako<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>binData<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> unzipData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">return</span> unzipData
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/article/Other/Interview.html" class="prev">
        问题总结
      </a></span> <span class="next"><a href="/blog/article/Other/OnlinePayment.html">
        在线支付
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.a4fc6a88.js" defer></script><script src="/blog/assets/js/2.71bf78d2.js" defer></script><script src="/blog/assets/js/1.ca7f5726.js" defer></script><script src="/blog/assets/js/14.b9cd0f58.js" defer></script>
  </body>
</html>
